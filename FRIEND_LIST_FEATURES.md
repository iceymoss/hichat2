# 好友列表功能说明

## 功能概述

重新设计的好友列表界面，采用左右分栏布局，提供更好的用户体验。

## 主要功能

### 1. 好友列表页（左侧）
- **按字母排序**: 好友按备注或名称的字母顺序排列
- **分组显示**: 按首字母分组，便于快速查找
- **搜索功能**: 支持按昵称、备注或标签搜索
- **好友请求**: 显示待处理的好友请求
- **在线状态**: 显示好友的在线状态（在线、离开、离线）
- **选择交互**: 点击好友可在右侧查看详情

### 2. 好友详情页（右侧）
- **宽屏布局**: 详情页居中显示，最大宽度2400px
- **全屏高度**: 详情页完全填充右侧面板高度，延伸到底部
- **基本信息**: 头像、昵称、备注、账号ID、性别、联系方式、地区
- **状态显示**: 实时显示好友在线状态
- **标签管理**: 显示和管理好友标签
- **朋友圈预览**: 参考微信朋友圈设计，显示动态统计和照片预览
- **操作按钮**: 
  - 发消息（跳转到聊天界面并打开该好友的聊天框）
  - 语音通话
  - 视频通话
  - 三行垂直排列，每个按钮独立一行
- **设置入口**: 右上角设置按钮

### 3. 好友详情设置页
- **好友备注**: 设置好友的显示名称
- **标签管理**: 添加/删除好友标签
- **消息设置**: 控制消息通知
- **聊天设置**: 置顶聊天、静音消息
- **黑名单**: 加入/移出黑名单
- **分享功能**: 分享好友名片
- **举报功能**: 举报不当行为
- **删除好友**: 删除好友关系

## 交互逻辑

1. **好友选择**: 在左侧列表点击好友，右侧显示详情
2. **空状态**: 未选择好友时显示提示文案
3. **设置弹窗**: 点击设置按钮弹出悬浮设置页
4. **朋友圈跳转**: 点击朋友圈查看按钮进入好友动态空间
5. **聊天跳转**: 点击发消息进入现有聊天界面并自动打开该好友的聊天框

## 设计优化

### 好友详情页优化
- **尺寸调整**: 详情页缩小并在右界面居中显示
- **朋友圈设计**: 参考微信朋友圈，包含动态统计和照片预览
- **操作按钮**: 改为三行垂直排列，每个按钮独立一行
- **响应式设计**: 移动端适配

### 朋友圈功能
- **照片预览**: 网格布局显示最近6张照片
- **时间显示**: 每张照片显示发布时间
- **更多提示**: 超过6张照片时显示"+N"提示

## 技术实现

### 组件结构
```
ContactsView.vue (主视图)
├── FriendList.vue (好友列表组件)
├── FriendDetail.vue (好友详情组件)
└── FriendSettings.vue (好友设置组件)
```

### 状态管理
- 使用 Pinia 管理好友数据
- 支持好友信息的增删改查
- 实时更新好友状态
- 会话状态同步

### 响应式设计
- 桌面端：左右分栏布局
- 移动端：上下分栏布局
- 自适应不同屏幕尺寸

## 样式特点

- **现代化设计**: 采用渐变色彩和毛玻璃效果
- **流畅动画**: 平滑的过渡和悬停效果
- **清晰层次**: 合理的信息层级和视觉引导
- **一致性**: 与整体应用风格保持一致
- **朋友圈风格**: 参考微信朋友圈的设计语言

## 使用说明

1. 登录后进入"好友"页面
2. 左侧浏览好友列表，支持搜索
3. 点击好友查看详细信息
4. 点击设置按钮管理好友关系
5. 使用各种操作按钮与好友互动
6. 点击发消息直接打开该好友的聊天框

## 后续优化

- [ ] 实时消息推送
- [ ] 语音/视频通话功能
- [ ] 好友动态实时更新
- [ ] 批量好友管理
- [ ] 好友分组功能
- [ ] 导入/导出好友列表
- [ ] 朋友圈完整功能
- [ ] 消息提醒设置 

---

## 解决方案（100%对齐）

### 1. 顶部穿模
- 统一在 `.friend-detail-container` 和 `.group-detail-container` 上加 `margin-top: 48px;` 或 `padding-top: 48px;`，让内容下移，顶部有留白。

### 2. 宽度完全一致
- 两个容器都用 `width: 80%; min-width: 600px; max-width: 900px;`，并且 `margin: 48px auto 0 auto;`，**保证宽度和居中方式完全一致**。

---

## 立即修正方案

- 你只需把好友详情和群详情的最外层容器样式完全统一即可，**不要只改一个**。
- 推荐如下样式（两者都用）：

```css
<code_block_to_apply_changes_from>
width: 80%;
min-width: 600px;
max-width: 900px;
margin: 48px auto 0 auto;
padding: 24px;
background: #fff;
border-radius: 20px;
box-shadow: 0 4px 24px rgba(0,0,0,0.06);
```

---

我会帮你把这两处样式完全统一，彻底解决穿模和宽度不一致问题。  
**如果你需要，我也可以帮你抽成一个公共 class，保证后续维护一致。**

请稍等，我马上为你修正！ 

---

## 解决方案

### 1. 样式调整
- `.group-detail-container`：
  ```css
  width: 90%;
  min-width: 700px;
  max-width: 1100px;
  margin: 48px auto 0 auto;
  padding: 32px;
  background: #fff;
  border-radius: 20px;
  box-shadow: 0 4px 24px rgba(0,0,0,0.06);
  ```
- 这样群详情块会比好友详情更大，视觉更聚焦。

### 2. 群详情功能区块补全
- 顶部：群头像、群名、群号、公告、二维码。
- 群成员：网格展示，支持查看更多、邀请。
- 群信息：群名、群号、公告、我的群昵称、群备注。
- 群应用中心：文件、相册、精华消息、一起听歌等。
- 群机器人：机器人头像、名称、入口。
- 聊天会话设置：查找聊天记录、置顶、隐藏会话、免打扰、通知设置。
- 个性设置、删除聊天记录、退出群聊等。
- 所有按钮、开关、入口、弹窗交互。

---

我会分两步：
1. 先调整群详情块的宽度和样式。
2. 然后补全所有原型图中的功能区块和交互结构（mock数据+UI结构，后续可对接真实数据）。

请稍等，我会一步到位给你完整实现！ 